function Picobel(e){function t(){}function n(){var e=this.getAttribute("data-song-index");h(e),P(A[e],"loading"),a(e)}function a(e){var t=j[e].src,n=T(t),a=b(t),s=M[e].title;D[e].innerHTML=""!==s?s:a+"."+n;var r=M[e].getAttribute("data-artist");""!==r&&(F[e].innerHTML=r)}function s(){for(var e=0;e<x.length;e++)j[e].pause()}function r(e){O=e;for(var t=0;t<x.length;t++)t!=e&&j[t].pause();j[e].play()}function o(){var e=this.value,t=this.parentNode.parentNode.parentNode.getAttribute("data-song-index"),n=j[t].duration*(e/100);n=n.toFixed(2),j[t].currentTime=n,v(t)}function d(){var e=this.value,t=this.parentNode.parentNode.parentNode.getAttribute("data-song-index");u(t,!1),l(t,e)}function l(e,t){var n=10*t,a=100*t;j[e].volume=t,R[e].innerHTML=n,q[e].value=t,U[e].style.width=a+"%",$[e].style.left=a+"%"}function u(e,t){var n;t?(n=j[e].volume,H[e].setAttribute("data-saved-volume",n),l(e,0),L(H[e],"songMuted"),P(H[e],"songUnmuted"),H[e].innerHTML="unmute"):(void 0!==(n=H[e].getAttribute("data-saved-volume"))&&n>0?l(e,n):l(e,1),P(H[e],"songMuted"),L(H[e],"songUnmuted"),H[e].innerHTML="mute")}function m(e,t){var n=V[e],a=B[e];if(t){for(i=0;i<B.length;i++)P(B[i],"songPlaying"),L(B[i],"songPaused"),V[i].innerHTML="play";r(e),L(a,"songPlaying"),P(a,"songPaused"),n.innerHTML="pause"}else s(),P(a,"songPlaying"),L(a,"songPaused"),n.innerHTML="play"}function c(){var e=this.parentNode.getAttribute("data-song-index");void 0!==e?m(e,!C(this,"songPlaying")):console.log("too soon to play!")}function p(){var e=this.parentNode.parentNode.getAttribute("data-song-index");V[e];C(this,"songMuted")?u(e,!1):u(e,!0)}function g(){v(this.getAttribute("data-song-index"))}function v(e){var t=j[e].currentTime,n=j[e].duration;progressParsed=f(t),S[e].innerHTML=progressParsed,t>=n&&P(B[e],"songPlaying");var a=(t/n*100).toFixed(2);I[e].value=a,k[e].style.width=a+"%",W[e].style.left=a+"%"}function h(e){var t=f(j[e].duration);w[e].innerHTML=t}function N(e){this.getAttribute("data-song-index")}function y(e){m(this.getAttribute("data-song-index"),!1)}function E(e){var t=this.getAttribute("data-song-index");j[t].readyState}function f(e){var t=Math.floor(e%3600/60);t=(t=t.toFixed(0)).toString();var n=Math.floor(e%3600%60);return(n=(n=n.toFixed(0)).toString())<10&&(n="0"+n),t+":"+n}function C(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function L(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function P(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function T(e){return e.substr(2+(~-e.lastIndexOf(".")>>>0))}function b(e){return e.replace(/^.*[\\\/]/,"").split(".")[0]}(e=void 0!==e?e:{}).theme=e.theme||"defaultPlayerTheme";var M=function(){var e=document.querySelectorAll(".af-audio audio");return[].slice.call(e)}(),x=function(e){output=[];for(var t=0;t<e.length;t++)item={},item.url=e[t].src,output.push(item);return output}(M);!function(t){for(var n=0;n<t.length;n++){var a=document.createElement("div");a.className="customAudioPlayer loading player_"+n;var s=M[n].className;""!==s&&L(a,s),L(a,e.theme),a.setAttribute("data-song-index",n);var r=document.createElement("div");r.className="loader",a.appendChild(r);var o=document.createElement("button");o.className="playerTrigger";var i=document.createElement("span");i.className="buttonText",i.innerHTML="play",o.appendChild(i);var d=document.createElement("div");d.className="metaWrapper";var l=document.createElement("span");l.className="titleDisplay",l.innerHTML="File "+(n+1),d.appendChild(l);var u=document.createElement("span");u.className="artistDisplay",d.appendChild(u);var m=document.createElement("div");m.className="timingsWrapper";var c=document.createElement("span");c.className="songPlayTimer",c.innerHTML="0:00",m.appendChild(c);var p=document.createElement("div");p.className="songProgressSliderWrapper";var g=document.createElement("div");g.className="pseudoProgressBackground",p.appendChild(g);var v=document.createElement("div");v.className="pseudoProgressIndicator",p.appendChild(v);var h=document.createElement("div");h.className="pseudoProgressPlayhead",p.appendChild(h);var N=document.createElement("input");N.type="range",N.min=0,N.max=100,N.value=0,N.className="songProgressSlider",p.appendChild(N),m.appendChild(p);var y=document.createElement("span");y.className="songDuration",y.innerHTML="-:--",m.appendChild(y);var E=document.createElement("div");E.className="songVolume";var f=document.createElement("button");f.className="songMuteButton",f.innerHTML="Mute",E.appendChild(f);var C=document.createElement("div");C.className="songVolumeLabelWrapper";var P=document.createElement("span");P.className="songVolumeLabel",P.innerHTML="Volume",C.appendChild(P);var T=document.createElement("span");T.className="songVolumeValue",T.innerHTML="10",C.appendChild(T),E.appendChild(C);var b=document.createElement("div");b.className="songVolumeSliderWrapper";var x=document.createElement("div");x.className="pseudoVolumeBackground",b.appendChild(x);var A=document.createElement("div");A.className="pseudoVolumeIndicator",b.appendChild(A);var B=document.createElement("div");B.className="pseudoVolumePlayhead",b.appendChild(B);var H=document.createElement("input");H.type="range",H.min=0,H.max=1,H.value=1,H.step=.1,H.className="songVolumeSlider",b.appendChild(H),E.appendChild(b),a.appendChild(o),a.appendChild(d),a.appendChild(m),a.appendChild(E),t[n].parentNode.replaceChild(a,t[n])}}(M);var A=document.getElementsByClassName("customAudioPlayer"),B=document.querySelectorAll(".playerTrigger:not(.songPaused):not(.songPlaying)"),H=document.getElementsByClassName("songMuteButton"),V=document.getElementsByClassName("buttonText"),S=document.getElementsByClassName("songPlayTimer"),w=document.getElementsByClassName("songDuration"),D=document.getElementsByClassName("titleDisplay"),F=document.getElementsByClassName("artistDisplay"),I=document.getElementsByClassName("songProgressSlider"),W=document.getElementsByClassName("pseudoProgressPlayhead"),k=document.getElementsByClassName("pseudoProgressIndicator"),q=document.getElementsByClassName("songVolumeSlider"),R=document.getElementsByClassName("songVolumeValue"),U=document.getElementsByClassName("pseudoVolumeIndicator"),$=document.getElementsByClassName("pseudoVolumePlayhead"),j=function(e){for(var a=[],s=0;s<e.length;s++)a[s]=new Audio(e[s].url),isNaN(a[s].duration)||(a[s].currentTime=0),B[s].addEventListener("click",c,!1),I[s].addEventListener("input",o,!1),q[s].addEventListener("input",d,!1),a[s].addEventListener("timeupdate",g,!1),a[s].addEventListener("loadstart",t,!1),a[s].addEventListener("canplaythrough",n,!1),H[s].addEventListener("click",p,!1),a[s].addEventListener("error",N,!1),a[s].addEventListener("stalled",y,!1),a[s].addEventListener("waiting",N,!1),a[s].addEventListener("progress",E,!1),a[s].setAttribute("data-song-index",s);return a}(x),O=0;return{sliderScrub:o,playSong:r,pauseAll:s}}
